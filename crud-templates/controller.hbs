import { BaseController } from '@mvc/controllers/base.controller';
import { ListResultset } from '@mvc/data/list-resultset';
import { Controller } from '@nestjs/common';
import { {{handlerClassName}} } from '../handlers/{{dashedFileNamePlural}}.handler';
import { {{requestClassName}} } from '../http/requests/{{dashedFileName}}.request';
import { {{dtoClassName}} } from '../dtos/{{dashedFileName}}.dto';
import { {{listResponseClassName}} } from '../http/responses/{{dashedFileNamePlural}}-list.response';
import { {{responseClassName}} } from '../http/responses/{{dashedFileName}}.response';

@Controller('{{tableName}}')
export class {{className}} extends BaseController<
    {{handlerClassName}},
    {{requestClassName}},
    {{dtoClassName}},
    {{responseClassName}},
    {{listResponseClassName}}
    > {
    constructor(handler: {{handlerClassName}}) {
        super(handler);
    }

  getDtoConstructor(): new (request: {{requestClassName}}) => {{dtoClassName}} {
    return {{dtoClassName}};
  }

    createDtoFromRequest(request: {{requestClassName}}): {{dtoClassName}} {
        return new {{dtoClassName}}(request);
    }

    createResponseFromDto(dto: {{dtoClassName}}): {{responseClassName}} {
        return new {{responseClassName}}(dto, {});
    }

    createResponseList(list: ListResultset<{{dtoClassName}}>): {{listResponseClassName}} {
        return new {{listResponseClassName}}(list);
    }
}
